if("undefined"==typeof jQuery)throw Error("jQuery Orderable: I require jQuery to work! Make sure you load me after jQuery.");!function(){function e(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n}e.prototype=window.Event.prototype,window.CustomEvent=e}(),+function(e){e.fn.orderable=function(t){function n(t,n){if(void 0===t||!t.length)throw Error("jQuery Ordable: Supplied table doesn't exist!");if(!e(t).is("table"))throw Error("jQuery Orderable: I work on <table> delements only. Supplied element: "+t.tagName);e(t).addClass(m.ORDERABLE).attr("ondragstart","return false;"),e(t).find(n.unit).addClass(m.ORDERABLE_UNIT),e(document).on({mouseenter:function(){e(".jq-orderable .hovered").removeClass("hovered"),e(this).addClass("hovered")}},".jq-orderable.reordering "+n.unit),e(document).on("touchmove mousemove",function(t){v=t.changedTouches?t.changedTouches[t.changedTouches.length-1].pageY:t.pageY,e(".moving")[0]&&l()}),document.dispatchEvent(new CustomEvent(f.initiated))}function r(t){e(e(t.target).closest("td")).is(".jq-orderable "+E.unit+":not(.orderable-exclude) td:not(.orderable-exclude)")&&($draggedUnit=e(t.target).parents(E.unit)[0],o(),e($draggedUnit).parents("table").addClass(m.REORDERING),e($draggedUnit).css({top:$draggedUnit.getBoundingClientRect().top,left:$draggedUnit.getBoundingClientRect().left,width:e($draggedUnit).width()}),e($draggedUnit).addClass(m.MOVING),e($draggedUnit).find("tr:visible").addClass("orderable-row-as-table"),l(),document.dispatchEvent(new CustomEvent(f.ORDERING_STARTED)))}function o(){var t=e(E.unit,c).first();g=e(t).clone(),g.find("td").empty(),g.addClass("orderable-ghost").css("display","").css("background","").insertBefore(t)}function d(){if(e("."+m.MOVING).length){var t=e("."+m.MOVING)[0].getBoundingClientRect(),n=t.left+20,r=t.top,o=t.bottom,d=i(n,r);if(!a(d)){var u=i(n,o);if(!a(u))return s(),void document.dispatchEvent(new CustomEvent(f.ORDERING_CANCELLED))}e($draggedUnit).insertAfter(u?e(u).is(".orderable-ghost")?u:u:d),e($draggedUnit).addClass("added"),setTimeout(function(){e($draggedUnit).removeClass("added")},1e3),s(),document.dispatchEvent(new CustomEvent(f.ORDERING_FINISHED,{detail:$draggedUnit}))}}function a(t){return e(t).is(E.unit)&&!e(t).parent("thead").length&&e(t).parents(".jq-orderable").length}function i(t,n){var r=document.elementFromPoint(t,n);return e(r).is("tr")||e(r).is("tbody")||(r=e(r).parents(E.unit)),e(r).is("tbody")?r:e(r).is("tr")?"tbody"==E.unit?r.parentElement:r:void 0}function s(){u([m.MOVING,m.REORDERING,m.HOVERED,"orderable-row-as-table"]),g.remove()}function u(t){var t=t.constructor===Array?t:[t];t.forEach(function(t){e("."+t).removeClass(t)})}function l(){var t=e(".moving")[0].getBoundingClientRect(),n=t.left+20,r=t.top,o=i(n,r);e(".hovered").removeClass("hovered"),e(o).addClass("hovered"),e(".moving").css({top:v-15})}var c=this;t=t||{};var E={unit:t.tbodyAsUnit?"tbody":"tbody tr"};$draggedUnit={};var g,v,b={MOUSEDOWN:"mousedown touchstart",MOUSEUP:"mouseup touchend"},m={ORDERABLE:"jq-orderable",ORDERABLE_UNIT:"jq-orderable-unit",MOVING:"moving",HOVERED:"hovered",REORDERING:"reordering"},f={LOADED:"jquery.orderable.load",INITIATED:"jquery.orderable.init",ORDERING_STARTED:"jquery.orderable.order.start",ORDERING_CANCELLED:"jquery.orderable.order.cancel",ORDERING_FINISHED:"jquery.orderable.order.finish"};return document.dispatchEvent(new CustomEvent(f.LOADED)),n(this,E),e(document).on(b.MOUSEDOWN,r),e(document).on(b.MOUSEUP,d),this}}(jQuery);
